<div class="form-container" >
    <h2>Create Offer</h2>
    <form>
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" required [(ngModel)]="title"/>
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <input id="description" name="description" required [(ngModel)]="description">
        </div>

        <div class="form-group">
            <label for="dateStart">Start Date</label>
            <input type="datetime-local" id="dateStart" name="dateStart"  required [(ngModel)]="dateStart" />
        </div>

        <div class="form-group">
            <label for="dateFin">End Date</label>
            <input type="datetime-local" id="dateFin" name="dateFin" required [(ngModel)]="dateFin" />
        </div>

        <div>
            <label for="comapny">Companies</label>
            <select id="companies" name="companies" [(ngModel)]="selecteCompanies" (focus)="showCompaniesOptions = true" multiple required>
                <option value="" disabled selected>-- Choose a Company --</option>
                <ng-container *ngIf="showCompaniesOptions">
                    <option *ngFor="let company of companies" [value]="company.id">
                        {{ company.companyname }}
                    </option>
                </ng-container>
            </select>
        </div>
        <button type="submit" class="btn btn-primary mt-4" (click)="save()">Create Offer</button>
    </form>
    
</div>
<div class="container mt-4" >

    <h3>Companies list</h3>
<table class="table center-table" >
    <thead>     
    <tr>
        
        <th scope="col">Title</th>
        <th scope="col">Description</th>
        <th scope="col">Start Time</th>
        <th scope="col">Final Time</th>
        
        <th scope="col">Companies</th>
        
        <th scope="col" class="option-column">Option</th>

      
      </tr>
    </thead>
    <tbody>
        <tr *ngFor="let OfferItem of OfferArray">
      
        <td>{{OfferItem.title}}</td>
        <td  class="desc-column">{{OfferItem.description}}</td>
        <td>{{OfferItem.dateStart}}</td>
        <td>{{OfferItem.dateFin}}</td>
        <td>
            <ng-container *ngIf="OfferItem.companies && OfferItem.companies.length > 0">
                {{ getCompaniesNames(OfferItem.companies) }}
            </ng-container>
            <ng-container *ngIf="!OfferItem.companies || OfferItem.companies.length === 0">
                No companies
            </ng-container>



      
        <td class="option-column">
        <button type="button" class="btn btn-success" (click)="setUpdate(OfferItem)">Edit</button>
        <button type="button" class="btn btn-danger" (click)="setDelete(OfferItem)">Delete</button>
      </td>
       
      </tr>
      
    </tbody>
  </table>


</div>